import{s as qt,n as xt,l as Ie,m as io,o as tn,h as oo,k as en,a as Tn,e as sr}from"../chunks/scheduler.CrsDffe0.js";import{S as Wt,i as Bt,r as He,j as P,k as D,l as nn,o as rn,e as B,s as Q,f as X,n as nt,h as J,v as L,p as j,q as ui,t as gt,x as ao,b as _t,u as uo,E as lr,F as on,c as Ct,G as an,a as $t,m as At,A as ae,d as St,g as mt,w as On}from"../chunks/index.DSWBlzAv.js";import{g as so,a as cr}from"../chunks/spread.CgU5AtxT.js";import{P as lo}from"../chunks/Page.hm2d3Axi.js";import{b as pt}from"../chunks/paths.DxWafEWP.js";import{p as Me}from"../chunks/metadata.P7YWR3Ii.js";import{c as Cn,e as fr,u as co,d as fo}from"../chunks/Footer.ByjfQVWx.js";import{f as hr}from"../chunks/index.B3vy_Lio.js";function ho(t){let e;return{c(){e=nn("INCORRECTO: REVISA EL PID | INCORRECT: CHECK THE PID OF THE IMAGE")},l(n){e=rn(n,"INCORRECTO: REVISA EL PID | INCORRECT: CHECK THE PID OF THE IMAGE")},m(n,r){P(n,e,r)},p:xt,d(n){n&&D(e)}}}function mo(t){let e,n,r,i,o,a,s,l,u=t[4].label+"",c,h,f,m=t[1]&&mr(t);return{c(){e=B("div"),n=B("a"),r=B("img"),s=Q(),l=B("a"),c=nn(u),f=Q(),m&&m.c(),this.h()},l(d){e=X(d,"DIV",{class:!0});var y=nt(e);n=X(y,"A",{href:!0});var k=nt(n);r=X(k,"IMG",{src:!0,title:!0,alt:!0,class:!0}),k.forEach(D),s=J(y),l=X(y,"A",{class:!0,href:!0});var v=nt(l);c=rn(v,u),v.forEach(D),f=J(y),m&&m.l(y),y.forEach(D),this.h()},h(){Ie(r.src,i=pt+"/iiif/"+t[0]+"/"+(t[3]-1)+"/full/512,/0/default.jpg")||L(r,"src",i),L(r,"title",t[1]),L(r,"alt",o=t[2]===""?t[1]:t[2]),L(r,"class","svelte-iswlra"),L(n,"href",a=pt+"/pages/"+t[0]),L(l,"class","silent-link"),L(l,"href",h=pt+"/pages/"+t[0]),L(e,"class","preview-item svelte-iswlra")},m(d,y){P(d,e,y),j(e,n),j(n,r),j(e,s),j(e,l),j(l,c),j(e,f),m&&m.m(e,null)},p(d,y){y&9&&!Ie(r.src,i=pt+"/iiif/"+d[0]+"/"+(d[3]-1)+"/full/512,/0/default.jpg")&&L(r,"src",i),y&2&&L(r,"title",d[1]),y&6&&o!==(o=d[2]===""?d[1]:d[2])&&L(r,"alt",o),y&1&&a!==(a=pt+"/pages/"+d[0])&&L(n,"href",a),y&1&&h!==(h=pt+"/pages/"+d[0])&&L(l,"href",h),d[1]?m?m.p(d,y):(m=mr(d),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(d){d&&D(e),m&&m.d()}}}function mr(t){let e,n,r;return{c(){e=B("p"),n=B("em"),r=nn(t[1])},l(i){e=X(i,"P",{});var o=nt(e);n=X(o,"EM",{});var a=nt(n);r=rn(a,t[1]),a.forEach(D),o.forEach(D)},m(i,o){P(i,e,o),j(e,n),j(n,r)},p(i,o){o&2&&ui(r,i[1])},d(i){i&&D(e)}}}function go(t){let e;function n(o,a){return o[4]&&Cn.pages.iiifViewer?mo:ho}let i=n(t)(t);return{c(){i.c(),e=He()},l(o){i.l(o),e=He()},m(o,a){i.m(o,a),P(o,e,a)},p(o,[a]){i.p(o,a)},i:xt,o:xt,d(o){o&&D(e),i.d(o)}}}function po(t,e,n){let{pid:r}=e,{title:i=""}=e,{alt:o=""}=e,{page:a=1}=e,s=Me.find(l=>l.pid===r);return s!==void 0&&s.label,t.$$set=l=>{"pid"in l&&n(0,r=l.pid),"title"in l&&n(1,i=l.title),"alt"in l&&n(2,o=l.alt),"page"in l&&n(3,a=l.page)},[r,i,o,a,s]}class yo extends Wt{constructor(e){super(),Bt(this,e,po,go,qt,{pid:0,title:1,alt:2,page:3})}}function Jt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function si(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Vn(t){let e,n,r;t.length!==2?(e=Jt,n=(s,l)=>Jt(t(s),l),r=(s,l)=>t(s)-l):(e=t===Jt||t===si?t:_o,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(s[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function a(s,l,u=0,c=s.length){const h=i(s,l,u,c-1);return h>u&&r(s[h-1],l)>-r(s[h],l)?h-1:h}return{left:i,center:a,right:o}}function _o(){return 0}function vo(t){return t===null?NaN:+t}function*wo(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const xo=Vn(Jt),li=xo.right;Vn(vo).center;function ci(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function pe(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class $n extends Map{constructor(e,n=ko){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(dr(this,e))}has(e){return super.has(dr(this,e))}set(e,n){return super.set(Mo(this,e),n)}delete(e){return super.delete(bo(this,e))}}function dr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Mo({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function bo({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ko(t){return t!==null&&typeof t=="object"?t.valueOf():t}function To(t){return t}function Co(t,e,...n){return $o(t,Array.from,e,n)}function $o(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new $n,l=r[a++];let u=-1;for(const c of o){const h=l(c,++u,o),f=s.get(h);f?f.push(c):s.set(h,[c])}for(const[c,h]of s)s.set(c,i(h,a));return e(s)}(t,0)}function Ao(t=Jt){if(t===Jt)return fi;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fi(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var So=Array.prototype,zo=So.slice;function hn(t){return()=>t}const No=Math.sqrt(50),Do=Math.sqrt(10),Eo=Math.sqrt(2);function Ye(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=No?10:o>=Do?5:o>=Eo?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Ye(t,e,n*2):[s,l,u]}function hi(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Ye(e,t,n):Ye(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function te(t,e,n){return e=+e,t=+t,n=+n,Ye(t,e,n)[2]}function An(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?te(e,t,n):te(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Uo(t,e,n){let r;for(;;){const i=te(t,e,n);if(i===r||i===0||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Fo(t){return Math.max(1,Math.ceil(Math.log(ci(t))/Math.LN2)+1)}function Io(){var t=To,e=pe,n=Fo;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,l,u=new Array(a);for(o=0;o<a;++o)u[o]=t(i[o],o,i);var c=e(u),h=c[0],f=c[1],m=n(u,h,f);if(!Array.isArray(m)){const $=f,N=+m;if(e===pe&&([h,f]=Uo(h,f,N)),m=hi(h,f,N),m[0]<=h&&(l=te(h,f,N)),m[m.length-1]>=f)if($>=f&&e===pe){const C=te(h,f,N);isFinite(C)&&(C>0?f=(Math.floor(f/C)+1)*C:C<0&&(f=(Math.ceil(f*-C)+1)/-C))}else m.pop()}for(var d=m.length,y=0,k=d;m[y]<=h;)++y;for(;m[k-1]>f;)--k;(y||k<d)&&(m=m.slice(y,k),d=k-y);var v=new Array(d+1),w;for(o=0;o<=d;++o)w=v[o]=[],w.x0=o>0?m[o-1]:h,w.x1=o<d?m[o]:f;if(isFinite(l)){if(l>0)for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&v[Math.min(d,Math.floor((s-h)/l))].push(i[o]);else if(l<0){for(o=0;o<a;++o)if((s=u[o])!=null&&h<=s&&s<=f){const $=Math.floor((h-s)*l);v[Math.min(d,$+(m[$]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&h<=s&&s<=f&&v[li(m,s,0,d)].push(i[o]);return v}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:hn(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:hn([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:hn(Array.isArray(i)?zo.call(i):i),r):n},r}function Re(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function gr(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function mi(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?fi:Ao(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*h/l+f)),d=Math.min(r,Math.floor(e+(l-u)*h/l+f));mi(t,e,m,d,i)}const o=t[e];let a=n,s=r;for(ue(t,n,e),i(t[r],o)>0&&ue(t,n,r);a<s;){for(ue(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?ue(t,n,s):(++s,ue(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ue(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pr(t,e,n){if(t=Float64Array.from(wo(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gr(t);if(e>=1)return Re(t);var r,i=(r-1)*e,o=Math.floor(i),a=Re(mi(t,o).subarray(0,o+1)),s=gr(t.subarray(o+1));return a+(s-a)*(i-o)}}function Ho(t,e,n){const r=ci(t),i=pr(t,.75)-pr(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function Yo(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ro(t){return t}var mn=1,dn=2,Sn=3,me=4,yr=1e-6;function Po(t){return"translate("+t+",0)"}function Lo(t){return"translate(0,"+t+")"}function Oo(t){return e=>+t(e)}function Vo(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function qo(){return!this.__axis}function di(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===mn||t===me?-1:1,c=t===me||t===dn?"x":"y",h=t===mn||t===Sn?Po:Lo;function f(m){var d=r??(e.ticks?e.ticks.apply(e,n):e.domain()),y=i??(e.tickFormat?e.tickFormat.apply(e,n):Ro),k=Math.max(o,0)+s,v=e.range(),w=+v[0]+l,$=+v[v.length-1]+l,N=(e.bandwidth?Vo:Oo)(e.copy(),l),C=m.selection?m.selection():m,M=C.selectAll(".domain").data([null]),z=C.selectAll(".tick").data(d,e).order(),R=z.exit(),V=z.enter().append("g").attr("class","tick"),I=z.select("line"),E=z.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(V),I=I.merge(V.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),E=E.merge(V.append("text").attr("fill","currentColor").attr(c,u*k).attr("dy",t===mn?"0em":t===Sn?"0.71em":"0.32em")),m!==C&&(M=M.transition(m),z=z.transition(m),I=I.transition(m),E=E.transition(m),R=R.transition(m).attr("opacity",yr).attr("transform",function(H){return isFinite(H=N(H))?h(H+l):this.getAttribute("transform")}),V.attr("opacity",yr).attr("transform",function(H){var O=this.parentNode.__axis;return h((O&&isFinite(O=O(H))?O:N(H))+l)})),R.remove(),M.attr("d",t===me||t===dn?a?"M"+u*a+","+w+"H"+l+"V"+$+"H"+u*a:"M"+l+","+w+"V"+$:a?"M"+w+","+u*a+"V"+l+"H"+$+"V"+u*a:"M"+w+","+l+"H"+$),z.attr("opacity",1).attr("transform",function(H){return h(N(H)+l)}),I.attr(c+"2",u*o),E.attr(c,u*k).text(y),C.filter(qo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===dn?"start":t===me?"end":"middle"),C.each(function(){this.__axis=N})}return f.scale=function(m){return arguments.length?(e=m,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),f):n.slice()},f.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),f):r&&r.slice()},f.tickFormat=function(m){return arguments.length?(i=m,f):i},f.tickSize=function(m){return arguments.length?(o=a=+m,f):o},f.tickSizeInner=function(m){return arguments.length?(o=+m,f):o},f.tickSizeOuter=function(m){return arguments.length?(a=+m,f):a},f.tickPadding=function(m){return arguments.length?(s=+m,f):s},f.offset=function(m){return arguments.length?(l=+m,f):l},f}function qn(t){return di(Sn,t)}function gi(t){return di(me,t)}var Wo={value:()=>{}};function Wn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ne(n)}function Ne(t){this._=t}function Bo(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ne.prototype=Wn.prototype={constructor:Ne,on:function(t,e){var n=this._,r=Bo(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Xo(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=_r(n[i],t.name,e);else if(e==null)for(i in n)n[i]=_r(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ne(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Xo(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function _r(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Wo,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var zn="http://www.w3.org/1999/xhtml";const vr={svg:"http://www.w3.org/2000/svg",xhtml:zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function un(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),vr.hasOwnProperty(e)?{space:vr[e],local:t}:t}function Go(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===zn&&e.documentElement.namespaceURI===zn?e.createElement(t):e.createElementNS(n,t)}}function Zo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pi(t){var e=un(t);return(e.local?Zo:Go)(e)}function Ko(){}function Bn(t){return t==null?Ko:function(){return this.querySelector(t)}}function Qo(t){typeof t!="function"&&(t=Bn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),l,u,c=0;c<a;++c)(l=o[c])&&(u=t.call(l,l.__data__,c,o))&&("__data__"in l&&(u.__data__=l.__data__),s[c]=u);return new dt(r,this._parents)}function Jo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function jo(){return[]}function yi(t){return t==null?jo:function(){return this.querySelectorAll(t)}}function ta(t){return function(){return Jo(t.apply(this,arguments))}}function ea(t){typeof t=="function"?t=ta(t):t=yi(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new dt(r,i)}function _i(t){return function(){return this.matches(t)}}function vi(t){return function(e){return e.matches(t)}}var na=Array.prototype.find;function ra(t){return function(){return na.call(this.children,t)}}function ia(){return this.firstElementChild}function oa(t){return this.select(t==null?ia:ra(typeof t=="function"?t:vi(t)))}var aa=Array.prototype.filter;function ua(){return Array.from(this.children)}function sa(t){return function(){return aa.call(this.children,t)}}function la(t){return this.selectAll(t==null?ua:sa(typeof t=="function"?t:vi(t)))}function ca(t){typeof t!="function"&&(t=_i(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new dt(r,this._parents)}function wi(t){return new Array(t.length)}function fa(){return new dt(this._enter||this._groups.map(wi),this._parents)}function Pe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pe.prototype={constructor:Pe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ha(t){return function(){return t}}function ma(t,e,n,r,i,o){for(var a=0,s,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Pe(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function da(t,e,n,r,i,o,a){var s,l,u=new Map,c=e.length,h=o.length,f=new Array(c),m;for(s=0;s<c;++s)(l=e[s])&&(f[s]=m=a.call(l,l.__data__,s,e)+"",u.has(m)?i[s]=l:u.set(m,l));for(s=0;s<h;++s)m=a.call(t,o[s],s,o)+"",(l=u.get(m))?(r[s]=l,l.__data__=o[s],u.delete(m)):n[s]=new Pe(t,o[s]);for(s=0;s<c;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function ga(t){return t.__data__}function pa(t,e){if(!arguments.length)return Array.from(this,ga);var n=e?da:ma,r=this._parents,i=this._groups;typeof t!="function"&&(t=ha(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=r[u],h=i[u],f=h.length,m=ya(t.call(c,c&&c.__data__,u,r)),d=m.length,y=s[u]=new Array(d),k=a[u]=new Array(d),v=l[u]=new Array(f);n(c,h,y,k,v,m,e);for(var w=0,$=0,N,C;w<d;++w)if(N=y[w]){for(w>=$&&($=w+1);!(C=k[$])&&++$<d;);N._next=C||null}}return a=new dt(a,r),a._enter=s,a._exit=l,a}function ya(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _a(){return new dt(this._exit||this._groups.map(wi),this._parents)}function va(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function wa(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],c=r[l],h=u.length,f=s[l]=new Array(h),m,d=0;d<h;++d)(m=u[d]||c[d])&&(f[d]=m);for(;l<i;++l)s[l]=n[l];return new dt(s,this._parents)}function xa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ma(t){t||(t=ba);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,c=0;c<s;++c)(u=a[c])&&(l[c]=u);l.sort(e)}return new dt(i,this._parents).order()}function ba(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ka(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ta(){return Array.from(this)}function Ca(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function $a(){let t=0;for(const e of this)++t;return t}function Aa(){return!this.node()}function Sa(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function za(t){return function(){this.removeAttribute(t)}}function Na(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Da(t,e){return function(){this.setAttribute(t,e)}}function Ea(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ua(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Fa(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ia(t,e){var n=un(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Na:za:typeof e=="function"?n.local?Fa:Ua:n.local?Ea:Da)(n,e))}function xi(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ha(t){return function(){this.style.removeProperty(t)}}function Ya(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ra(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Pa(t,e,n){return arguments.length>1?this.each((e==null?Ha:typeof e=="function"?Ra:Ya)(t,e,n??"")):ee(this.node(),t)}function ee(t,e){return t.style.getPropertyValue(e)||xi(t).getComputedStyle(t,null).getPropertyValue(e)}function La(t){return function(){delete this[t]}}function Oa(t,e){return function(){this[t]=e}}function Va(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function qa(t,e){return arguments.length>1?this.each((e==null?La:typeof e=="function"?Va:Oa)(t,e)):this.node()[t]}function Mi(t){return t.trim().split(/^|\s+/)}function Xn(t){return t.classList||new bi(t)}function bi(t){this._node=t,this._names=Mi(t.getAttribute("class")||"")}bi.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ki(t,e){for(var n=Xn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ti(t,e){for(var n=Xn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wa(t){return function(){ki(this,t)}}function Ba(t){return function(){Ti(this,t)}}function Xa(t,e){return function(){(e.apply(this,arguments)?ki:Ti)(this,t)}}function Ga(t,e){var n=Mi(t+"");if(arguments.length<2){for(var r=Xn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Xa:e?Wa:Ba)(n,e))}function Za(){this.textContent=""}function Ka(t){return function(){this.textContent=t}}function Qa(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Ja(t){return arguments.length?this.each(t==null?Za:(typeof t=="function"?Qa:Ka)(t)):this.node().textContent}function ja(){this.innerHTML=""}function tu(t){return function(){this.innerHTML=t}}function eu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function nu(t){return arguments.length?this.each(t==null?ja:(typeof t=="function"?eu:tu)(t)):this.node().innerHTML}function ru(){this.nextSibling&&this.parentNode.appendChild(this)}function iu(){return this.each(ru)}function ou(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function au(){return this.each(ou)}function uu(t){var e=typeof t=="function"?t:pi(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function su(){return null}function lu(t,e){var n=typeof t=="function"?t:pi(t),r=e==null?su:typeof e=="function"?e:Bn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function cu(){var t=this.parentNode;t&&t.removeChild(this)}function fu(){return this.each(cu)}function hu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function mu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function du(t){return this.select(t?mu:hu)}function gu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pu(t){return function(e){t.call(this,e,this.__data__)}}function yu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function _u(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function vu(t,e,n){return function(){var r=this.__on,i,o=pu(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function wu(t,e,n){var r=yu(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,c;l<u;++l)for(i=0,c=s[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?vu:_u,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Ci(t,e,n){var r=xi(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xu(t,e){return function(){return Ci(this,t,e)}}function Mu(t,e){return function(){return Ci(this,t,e.apply(this,arguments))}}function bu(t,e){return this.each((typeof e=="function"?Mu:xu)(t,e))}function*ku(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var $i=[null];function dt(t,e){this._groups=t,this._parents=e}function be(){return new dt([[document.documentElement]],$i)}function Tu(){return this}dt.prototype=be.prototype={constructor:dt,select:Qo,selectAll:ea,selectChild:oa,selectChildren:la,filter:ca,data:pa,enter:fa,exit:_a,join:va,merge:wa,selection:Tu,order:xa,sort:Ma,call:ka,nodes:Ta,node:Ca,size:$a,empty:Aa,each:Sa,attr:Ia,style:Pa,property:qa,classed:Ga,text:Ja,html:nu,raise:iu,lower:au,append:uu,insert:lu,remove:fu,clone:du,datum:gu,on:wu,dispatch:bu,[Symbol.iterator]:ku};function ut(t){return typeof t=="string"?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],$i)}function Cu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ht(t,e){if(t=Cu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const Nn={capture:!0,passive:!1};function Dn(t){t.preventDefault(),t.stopImmediatePropagation()}function $u(t){var e=t.document.documentElement,n=ut(t).on("dragstart.drag",Dn,Nn);"onselectstart"in e?n.on("selectstart.drag",Dn,Nn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Au(t,e){var n=t.document.documentElement,r=ut(t).on("dragstart.drag",null);e&&(r.on("click.drag",Dn,Nn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Gn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ai(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ke(){}var ye=.7,Le=1/ye,jt="\\s*([+-]?\\d+)\\s*",_e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Su=/^#([0-9a-f]{3,8})$/,zu=new RegExp(`^rgb\\(${jt},${jt},${jt}\\)$`),Nu=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),Du=new RegExp(`^rgba\\(${jt},${jt},${jt},${_e}\\)$`),Eu=new RegExp(`^rgba\\(${bt},${bt},${bt},${_e}\\)$`),Uu=new RegExp(`^hsl\\(${_e},${bt},${bt}\\)$`),Fu=new RegExp(`^hsla\\(${_e},${bt},${bt},${_e}\\)$`),wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gn(ke,Lt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xr,formatHex:xr,formatHex8:Iu,formatHsl:Hu,formatRgb:Mr,toString:Mr});function xr(){return this.rgb().formatHex()}function Iu(){return this.rgb().formatHex8()}function Hu(){return Si(this).formatHsl()}function Mr(){return this.rgb().formatRgb()}function Lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Su.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?br(e):n===3?new ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ce(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ce(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zu.exec(t))?new ct(e[1],e[2],e[3],1):(e=Nu.exec(t))?new ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Du.exec(t))?Ce(e[1],e[2],e[3],e[4]):(e=Eu.exec(t))?Ce(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uu.exec(t))?Cr(e[1],e[2]/100,e[3]/100,1):(e=Fu.exec(t))?Cr(e[1],e[2]/100,e[3]/100,e[4]):wr.hasOwnProperty(t)?br(wr[t]):t==="transparent"?new ct(NaN,NaN,NaN,0):null}function br(t){return new ct(t>>16&255,t>>8&255,t&255,1)}function Ce(t,e,n,r){return r<=0&&(t=e=n=NaN),new ct(t,e,n,r)}function Yu(t){return t instanceof ke||(t=Lt(t)),t?(t=t.rgb(),new ct(t.r,t.g,t.b,t.opacity)):new ct}function En(t,e,n,r){return arguments.length===1?Yu(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Gn(ct,En,Ai(ke,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ye:Math.pow(ye,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ct(Pt(this.r),Pt(this.g),Pt(this.b),Oe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kr,formatHex:kr,formatHex8:Ru,formatRgb:Tr,toString:Tr}));function kr(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}`}function Ru(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}${Rt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tr(){const t=Oe(this.opacity);return`${t===1?"rgb(":"rgba("}${Pt(this.r)}, ${Pt(this.g)}, ${Pt(this.b)}${t===1?")":`, ${t})`}`}function Oe(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rt(t){return t=Pt(t),(t<16?"0":"")+t.toString(16)}function Cr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wt(t,e,n,r)}function Si(t){if(t instanceof wt)return new wt(t.h,t.s,t.l,t.opacity);if(t instanceof ke||(t=Lt(t)),!t)return new wt;if(t instanceof wt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new wt(a,s,l,t.opacity)}function Pu(t,e,n,r){return arguments.length===1?Si(t):new wt(t,e,n,r??1)}function wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Gn(wt,Pu,Ai(ke,{brighter(t){return t=t==null?Le:Math.pow(Le,t),new wt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ye:Math.pow(ye,t),new wt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ct(gn(t>=240?t-240:t+120,i,r),gn(t,i,r),gn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wt($r(this.h),$e(this.s),$e(this.l),Oe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Oe(this.opacity);return`${t===1?"hsl(":"hsla("}${$r(this.h)}, ${$e(this.s)*100}%, ${$e(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $r(t){return t=(t||0)%360,t<0?t+360:t}function $e(t){return Math.max(0,Math.min(1,t||0))}function gn(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Zn=t=>()=>t;function Lu(t,e){return function(n){return t+n*e}}function Ou(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vu(t){return(t=+t)==1?zi:function(e,n){return n-e?Ou(e,n,t):Zn(isNaN(e)?n:e)}}function zi(t,e){var n=e-t;return n?Lu(t,n):Zn(isNaN(t)?e:t)}const Ve=function t(e){var n=Vu(e);function r(i,o){var a=n((i=En(i)).r,(o=En(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=zi(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function qu(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Wu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bu(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Kn(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Xu(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function vt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gu(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pn=new RegExp(Un.source,"g");function Zu(t){return function(){return t}}function Ku(t){return function(e){return t(e)+""}}function Ni(t,e){var n=Un.lastIndex=pn.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Un.exec(t))&&(i=pn.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:vt(r,i)})),n=pn.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Ku(l[0].x):Zu(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)s[(h=l[c]).i]=h.x(u);return s.join("")})}function Kn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Zn(e):(n==="number"?vt:n==="string"?(r=Lt(e))?(e=r,Ve):Ni:e instanceof Lt?Ve:e instanceof Date?Xu:Wu(e)?qu:Array.isArray(e)?Bu:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gu:vt)(t,e)}function Di(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ar=180/Math.PI,Fn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ei(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Ar,skewX:Math.atan(l)*Ar,scaleX:a,scaleY:s}}var Ae;function Qu(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Fn:Ei(e.a,e.b,e.c,e.d,e.e,e.f)}function Ju(t){return t==null||(Ae||(Ae=document.createElementNS("http://www.w3.org/2000/svg","g")),Ae.setAttribute("transform",t),!(t=Ae.transform.baseVal.consolidate()))?Fn:(t=t.matrix,Ei(t.a,t.b,t.c,t.d,t.e,t.f))}function Ui(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,h,f,m,d){if(u!==h||c!==f){var y=m.push("translate(",null,e,null,n);d.push({i:y-4,x:vt(u,h)},{i:y-2,x:vt(c,f)})}else(h||f)&&m.push("translate("+h+e+f+n)}function a(u,c,h,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:vt(u,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(u,c,h,f){u!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:vt(u,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(u,c,h,f,m,d){if(u!==h||c!==f){var y=m.push(i(m)+"scale(",null,",",null,")");d.push({i:y-4,x:vt(u,h)},{i:y-2,x:vt(c,f)})}else(h!==1||f!==1)&&m.push(i(m)+"scale("+h+","+f+")")}return function(u,c){var h=[],f=[];return u=t(u),c=t(c),o(u.translateX,u.translateY,c.translateX,c.translateY,h,f),a(u.rotate,c.rotate,h,f),s(u.skewX,c.skewX,h,f),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,f),u=c=null,function(m){for(var d=-1,y=f.length,k;++d<y;)h[(k=f[d]).i]=k.x(m);return h.join("")}}}var ju=Ui(Qu,"px, ","px)","deg)"),ts=Ui(Ju,", ",")",")"),es=1e-12;function Sr(t){return((t=Math.exp(t))+1/t)/2}function ns(t){return((t=Math.exp(t))-1/t)/2}function rs(t){return((t=Math.exp(2*t))-1)/(t+1)}const is=function t(e,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],c=a[0],h=a[1],f=a[2],m=c-s,d=h-l,y=m*m+d*d,k,v;if(y<es)v=Math.log(f/u)/e,k=function(z){return[s+z*m,l+z*d,u*Math.exp(e*z*v)]};else{var w=Math.sqrt(y),$=(f*f-u*u+r*y)/(2*u*n*w),N=(f*f-u*u-r*y)/(2*f*n*w),C=Math.log(Math.sqrt($*$+1)-$),M=Math.log(Math.sqrt(N*N+1)-N);v=(M-C)/e,k=function(z){var R=z*v,V=Sr(C),I=u/(n*w)*(V*rs(e*R+C)-ns(C));return[s+I*m,l+I*d,u*V/Sr(e*R+C)]}}return k.duration=v*1e3*e/Math.SQRT2,k}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return t(a,s,l)},i}(Math.SQRT2,2,4);var ne=0,de=0,se=0,Fi=1e3,qe,ge,We=0,Ot=0,sn=0,ve=typeof performance=="object"&&performance.now?performance:Date,Ii=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qn(){return Ot||(Ii(os),Ot=ve.now()+sn)}function os(){Ot=0}function Be(){this._call=this._time=this._next=null}Be.prototype=Hi.prototype={constructor:Be,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Qn():+n)+(e==null?0:+e),!this._next&&ge!==this&&(ge?ge._next=this:qe=this,ge=this),this._call=t,this._time=n,In()},stop:function(){this._call&&(this._call=null,this._time=1/0,In())}};function Hi(t,e,n){var r=new Be;return r.restart(t,e,n),r}function as(){Qn(),++ne;for(var t=qe,e;t;)(e=Ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ne}function zr(){Ot=(We=ve.now())+sn,ne=de=0;try{as()}finally{ne=0,ss(),Ot=0}}function us(){var t=ve.now(),e=t-We;e>Fi&&(sn-=e,We=t)}function ss(){for(var t,e=qe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qe=n);ge=t,In(r)}function In(t){if(!ne){de&&(de=clearTimeout(de));var e=t-Ot;e>24?(t<1/0&&(de=setTimeout(zr,t-ve.now()-sn)),se&&(se=clearInterval(se))):(se||(We=ve.now(),se=setInterval(us,Fi)),ne=1,Ii(zr))}}function Nr(t,e,n){var r=new Be;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ls=Wn("start","end","cancel","interrupt"),cs=[],Yi=0,Dr=1,Hn=2,De=3,Er=4,Yn=5,Ee=6;function ln(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;fs(t,n,{name:e,index:r,group:i,on:ls,tween:cs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Yi})}function Jn(t,e){var n=Mt(t,e);if(n.state>Yi)throw new Error("too late; already scheduled");return n}function kt(t,e){var n=Mt(t,e);if(n.state>De)throw new Error("too late; already running");return n}function Mt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Hi(o,0,n.time);function o(u){n.state=Dr,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,f,m;if(n.state!==Dr)return l();for(c in r)if(m=r[c],m.name===n.name){if(m.state===De)return Nr(a);m.state===Er?(m.state=Ee,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=Ee,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(Nr(function(){n.state===De&&(n.state=Er,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Hn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Hn){for(n.state=De,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=m);i.length=h+1}}function s(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Yn,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===Yn&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ee,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function Ue(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Hn&&r.state<Yn,r.state=Ee,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function hs(t){return this.each(function(){Ue(this,t)})}function ms(t,e){var n,r;return function(){var i=kt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function ds(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=kt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function gs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Mt(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?ms:ds)(n,t,e))}function jn(t,e,n){var r=t._id;return t.each(function(){var i=kt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Mt(i,r).value[e]}}function Ri(t,e){var n;return(typeof e=="number"?vt:e instanceof Lt?Ve:(n=Lt(e))?(e=n,Ve):Ni)(t,e)}function ps(t){return function(){this.removeAttribute(t)}}function ys(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _s(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function vs(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function ws(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function xs(t,e,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s)))}}function Ms(t,e){var n=un(t),r=n==="transform"?ts:Ri;return this.attrTween(t,typeof e=="function"?(n.local?xs:ws)(n,r,jn(this,"attr."+t,e)):e==null?(n.local?ys:ps)(n):(n.local?vs:_s)(n,r,e))}function bs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ks(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ts(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ks(t,o)),n}return i._value=e,i}function Cs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&bs(t,o)),n}return i._value=e,i}function $s(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=un(t);return this.tween(n,(r.local?Ts:Cs)(r,e))}function As(t,e){return function(){Jn(this,t).delay=+e.apply(this,arguments)}}function Ss(t,e){return e=+e,function(){Jn(this,t).delay=e}}function zs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?As:Ss)(e,t)):Mt(this.node(),e).delay}function Ns(t,e){return function(){kt(this,t).duration=+e.apply(this,arguments)}}function Ds(t,e){return e=+e,function(){kt(this,t).duration=e}}function Es(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ns:Ds)(e,t)):Mt(this.node(),e).duration}function Us(t,e){if(typeof e!="function")throw new Error;return function(){kt(this,t).ease=e}}function Fs(t){var e=this._id;return arguments.length?this.each(Us(e,t)):Mt(this.node(),e).ease}function Is(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;kt(this,t).ease=n}}function Hs(t){if(typeof t!="function")throw new Error;return this.each(Is(this._id,t))}function Ys(t){typeof t!="function"&&(t=_i(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&t.call(l,l.__data__,u,o)&&s.push(l);return new Et(r,this._parents,this._name,this._id)}function Rs(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=e[s],u=n[s],c=l.length,h=a[s]=new Array(c),f,m=0;m<c;++m)(f=l[m]||u[m])&&(h[m]=f);for(;s<r;++s)a[s]=e[s];return new Et(a,this._parents,this._name,this._id)}function Ps(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ls(t,e,n){var r,i,o=Ps(e)?Jn:kt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Os(t,e){var n=this._id;return arguments.length<2?Mt(this.node(),n).on.on(t):this.each(Ls(n,t,e))}function Vs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function qs(){return this.on("end.remove",Vs(this._id))}function Ws(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Bn(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),c,h,f=0;f<l;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),u[f]=h,ln(u[f],e,n,f,u,Mt(c,n)));return new Et(o,this._parents,e,n)}function Bs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yi(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,c,h=0;h<u;++h)if(c=l[h]){for(var f=t.call(c,c.__data__,h,l),m,d=Mt(c,n),y=0,k=f.length;y<k;++y)(m=f[y])&&ln(m,e,n,y,f,d);o.push(f),a.push(c)}return new Et(o,a,e,n)}var Xs=be.prototype.constructor;function Gs(){return new Xs(this._groups,this._parents)}function Zs(t,e){var n,r,i;return function(){var o=ee(this,t),a=(this.style.removeProperty(t),ee(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Pi(t){return function(){this.style.removeProperty(t)}}function Ks(t,e,n){var r,i=n+"",o;return function(){var a=ee(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Qs(t,e,n){var r,i,o;return function(){var a=ee(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),ee(this,t))),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}function Js(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var l=kt(this,t),u=l.on,c=l.value[o]==null?s||(s=Pi(e)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),l.on=r}}function js(t,e,n){var r=(t+="")=="transform"?ju:Ri;return e==null?this.styleTween(t,Zs(t,r)).on("end.style."+t,Pi(t)):typeof e=="function"?this.styleTween(t,Qs(t,r,jn(this,"style."+t,e))).each(Js(this._id,t)):this.styleTween(t,Ks(t,r,e),n).on("end.style."+t,null)}function tl(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function el(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&tl(t,a,n)),r}return o._value=e,o}function nl(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,el(t,e,n??""))}function rl(t){return function(){this.textContent=t}}function il(t){return function(){var e=t(this);this.textContent=e??""}}function ol(t){return this.tween("text",typeof t=="function"?il(jn(this,"text",t)):rl(t==null?"":t+""))}function al(t){return function(e){this.textContent=t.call(this,e)}}function ul(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&al(i)),e}return r._value=t,r}function sl(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ul(t))}function ll(){for(var t=this._name,e=this._id,n=Li(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var c=Mt(l,e);ln(l,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Et(r,this._parents,t,n)}function cl(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=kt(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),u.on=e}),i===0&&o()})}var fl=0;function Et(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Li(){return++fl}var Tt=be.prototype;Et.prototype={constructor:Et,select:Ws,selectAll:Bs,selectChild:Tt.selectChild,selectChildren:Tt.selectChildren,filter:Ys,merge:Rs,selection:Gs,transition:ll,call:Tt.call,nodes:Tt.nodes,node:Tt.node,size:Tt.size,empty:Tt.empty,each:Tt.each,on:Os,attr:Ms,attrTween:$s,style:js,styleTween:nl,text:ol,textTween:sl,remove:qs,tween:gs,delay:zs,duration:Es,ease:Fs,easeVarying:Hs,end:cl,[Symbol.iterator]:Tt[Symbol.iterator]};function hl(t){return t*(2-t)}function ml(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var dl={time:null,delay:0,duration:250,ease:ml};function gl(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function pl(t){var e,n;t instanceof Et?(e=t._id,t=t._name):(e=Li(),(n=dl).time=Qn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&ln(l,t,e,u,a,n||gl(l,e));return new Et(r,this._parents,t,e)}be.prototype.interrupt=hs;be.prototype.transition=pl;const Rn=Math.PI,Pn=2*Rn,Yt=1e-6,yl=Pn-Yt;function Oi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _l(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Oi;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vl{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Oi:_l(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,h=s-n,f=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Yt)if(!(Math.abs(h*l-u*c)>Yt)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-a,d=i-s,y=l*l+u*u,k=m*m+d*d,v=Math.sqrt(y),w=Math.sqrt(f),$=o*Math.tan((Rn-Math.acos((y+f-k)/(2*v*w)))/2),N=$/w,C=$/v;Math.abs(N-1)>Yt&&this._append`L${e+N*c},${n+N*h}`,this._append`A${o},${o},0,0,${+(h*m>c*d)},${this._x1=e+C*l},${this._y1=n+C*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,h=1^a,f=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Yt||Math.abs(this._y1-c)>Yt)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%Pn+Pn),f>yl?this._append`A${r},${r},0,1,${h},${e-s},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:f>Yt&&this._append`A${r},${r},0,${+(f>=Rn)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wl(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xe(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function re(t){return t=Xe(Math.abs(t)),t?t[1]:NaN}function xl(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Ml(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var bl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ge(t){if(!(e=bl.exec(t)))throw new Error("invalid format: "+t);var e;return new tr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ge.prototype=tr.prototype;function tr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kl(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Vi;function Tl(t,e){var n=Xe(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Vi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xe(t,Math.max(0,e+o-1))[0]}function Ur(t,e){var n=Xe(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wl,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ur(t*100,e),r:Ur,s:Tl,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ir(t){return t}var Hr=Array.prototype.map,Yr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cl(t){var e=t.grouping===void 0||t.thousands===void 0?Ir:xl(Hr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Ir:Ml(Hr.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Ge(h);var f=h.fill,m=h.align,d=h.sign,y=h.symbol,k=h.zero,v=h.width,w=h.comma,$=h.precision,N=h.trim,C=h.type;C==="n"?(w=!0,C="g"):Fr[C]||($===void 0&&($=12),N=!0,C="g"),(k||f==="0"&&m==="=")&&(k=!0,f="0",m="=");var M=y==="$"?n:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",z=y==="$"?r:/[%p]/.test(C)?a:"",R=Fr[C],V=/[defgprs%]/.test(C);$=$===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function I(E){var H=M,O=z,g,b,_;if(C==="c")O=R(E)+O,E="";else{E=+E;var A=E<0||1/E<0;if(E=isNaN(E)?l:R(Math.abs(E),$),N&&(E=kl(E)),A&&+E==0&&d!=="+"&&(A=!1),H=(A?d==="("?d:s:d==="-"||d==="("?"":d)+H,O=(C==="s"?Yr[8+Vi/3]:"")+O+(A&&d==="("?")":""),V){for(g=-1,b=E.length;++g<b;)if(_=E.charCodeAt(g),48>_||_>57){O=(_===46?i+E.slice(g+1):E.slice(g))+O,E=E.slice(0,g);break}}}w&&!k&&(E=e(E,1/0));var U=H.length+E.length+O.length,F=U<v?new Array(v-U+1).join(f):"";switch(w&&k&&(E=e(F+E,F.length?v-O.length:1/0),F=""),m){case"<":E=H+E+O+F;break;case"=":E=H+F+E+O;break;case"^":E=F.slice(0,U=F.length>>1)+H+E+O+F.slice(U);break;default:E=F+H+E+O;break}return o(E)}return I.toString=function(){return h+""},I}function c(h,f){var m=u((h=Ge(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(re(f)/3)))*3,y=Math.pow(10,-d),k=Yr[8+d/3];return function(v){return m(y*v)+k}}return{format:u,formatPrefix:c}}var Se,qi,Wi;$l({thousands:",",grouping:[3],currency:["$",""]});function $l(t){return Se=Cl(t),qi=Se.format,Wi=Se.formatPrefix,Se}function Al(t){return Math.max(0,-re(Math.abs(t)))}function Sl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(re(e)/3)))*3-re(Math.abs(t)))}function zl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,re(e)-re(t))+1}function Nl(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function Dl(){return this.eachAfter(Nl)}function El(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Ul(t,e){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Fl(t,e){for(var n=this,r=[n],i=[],o,a,s,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,s=o.length;a<s;++a)r.push(o[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function Il(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Hl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Yl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Rl(t){for(var e=this,n=Pl(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Pl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Ll(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Ol(){return Array.from(this)}function Vl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function ql(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Wl(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function er(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Gl)):e===void 0&&(e=Xl);for(var n=new we(t),r,i=[n],o,a,s,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,s=l-1;s>=0;--s)i.push(o=a[s]=new we(a[s])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Kl)}function Bl(){return er(this).eachBefore(Zl)}function Xl(t){return t.children}function Gl(t){return Array.isArray(t)?t[1]:null}function Zl(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Kl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function we(t){this.data=t,this.depth=this.height=0,this.parent=null}we.prototype=er.prototype={constructor:we,count:Dl,each:El,eachAfter:Fl,eachBefore:Ul,find:Il,sum:Hl,sort:Yl,path:Rl,ancestors:Ll,descendants:Ol,leaves:Vl,links:ql,copy:Bl,[Symbol.iterator]:Wl};function Ql(t,e){return t.parent===e.parent?1:2}function yn(t){var e=t.children;return e?e[0]:t.t}function _n(t){var e=t.children;return e?e[e.length-1]:t.t}function Jl(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function jl(t){for(var e=0,n=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=e,o.m+=e,e+=o.s+(n+=o.c)}function tc(t,e,n){return t.a.parent===e.parent?t.a:n}function Fe(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Fe.prototype=Object.create(we.prototype);function ec(t){for(var e=new Fe(t,0),n,r=[e],i,o,a,s;n=r.pop();)if(o=n._.children)for(n.children=new Array(s=o.length),a=s-1;a>=0;--a)r.push(i=n.children[a]=new Fe(o[a],a)),i.parent=n;return(e.parent=new Fe(null,0)).children=[e],e}function nc(){var t=Ql,e=1,n=1,r=null;function i(u){var c=ec(u);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(l);else{var h=u,f=u,m=u;u.eachBefore(function(w){w.x<h.x&&(h=w),w.x>f.x&&(f=w),w.depth>m.depth&&(m=w)});var d=h===f?1:t(h,f)/2,y=d-h.x,k=e/(f.x+d+y),v=n/(m.depth||1);u.eachBefore(function(w){w.x=(w.x+y)*k,w.y=w.depth*v})}return u}function o(u){var c=u.children,h=u.parent.children,f=u.i?h[u.i-1]:null;if(c){jl(u);var m=(c[0].z+c[c.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-m):u.z=m}else f&&(u.z=f.z+t(u._,f._));u.parent.A=s(u,f,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,c,h){if(c){for(var f=u,m=u,d=c,y=f.parent.children[0],k=f.m,v=m.m,w=d.m,$=y.m,N;d=_n(d),f=yn(f),d&&f;)y=yn(y),m=_n(m),m.a=u,N=d.z+w-f.z-k+t(d._,f._),N>0&&(Jl(tc(d,u,h),u,N),k+=N,v+=N),w+=d.m,k+=f.m,$+=y.m,v+=m.m;d&&!_n(m)&&(m.t=d,m.m+=w-v),f&&!yn(y)&&(y.t=f,y.m+=k-$,h=u)}return h}function l(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function cn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Rr=Symbol("implicit");function Bi(){var t=new $n,e=[],n=[],r=Rr;function i(o){let a=t.get(o);if(a===void 0){if(r!==Rr)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new $n;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Bi(e,n).unknown(r)},cn.apply(i,arguments),i}function Xi(){var t=Bi().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var f=e().length,m=i<r,d=m?i:r,y=m?r:i;o=(y-d)/Math.max(1,f-l+u*2),s&&(o=Math.floor(o)),d+=(y-d-o*(f-l))*c,a=o*(1-l),s&&(d=Math.round(d),a=Math.round(a));var k=Yo(f).map(function(v){return d+o*v});return n(m?k.reverse():k)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(f){return arguments.length?(s=!!f,h()):s},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),h()):c},t.copy=function(){return Xi(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},cn.apply(h(),arguments)}function rc(t){return function(){return t}}function ic(t){return+t}var Pr=[0,1];function Kt(t){return t}function Ln(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:rc(isNaN(e)?NaN:.5)}function oc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ac(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Ln(i,r),o=n(a,o)):(r=Ln(r,i),o=n(o,a)),function(s){return o(r(s))}}function uc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Ln(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=li(t,s,1,r)-1;return o[l](i[l](s))}}function Gi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sc(){var t=Pr,e=Pr,n=Kn,r,i,o,a=Kt,s,l,u;function c(){var f=Math.min(t.length,e.length);return a!==Kt&&(a=oc(t[0],t[f-1])),s=f>2?uc:ac,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=s(t.map(r),e,n)))(r(a(f)))}return h.invert=function(f){return a(i((u||(u=s(e,t.map(r),vt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,ic),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Di,c()},h.clamp=function(f){return arguments.length?(a=f?!0:Kt,c()):a!==Kt},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,m){return r=f,i=m,c()}}function Zi(){return sc()(Kt,Kt)}function lc(t,e,n,r){var i=An(t,e,n),o;switch(r=Ge(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Sl(i,a))&&(r.precision=o),Wi(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=zl(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Al(i))&&(r.precision=o-(r.type==="%")*2);break}}return qi(r)}function cc(t){var e=t.domain;return t.ticks=function(n){var r=e();return hi(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return lc(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=te(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Ze(){var t=Zi();return t.copy=function(){return Gi(t,Ze())},cn.apply(t,arguments),cc(t)}function fc(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}const vn=new Date,wn=new Date;function it(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>it(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(vn.setTime(+o),wn.setTime(+a),t(vn),t(wn),Math.floor(n(vn,wn))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ke=it(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ke.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?it(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ke);Ke.range;const zt=1e3,yt=zt*60,Nt=yt*60,Ut=Nt*24,nr=Ut*7,Lr=Ut*30,xn=Ut*365,Qt=it(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zt)},(t,e)=>(e-t)/zt,t=>t.getUTCSeconds());Qt.range;const rr=it(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zt)},(t,e)=>{t.setTime(+t+e*yt)},(t,e)=>(e-t)/yt,t=>t.getMinutes());rr.range;const hc=it(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yt)},(t,e)=>(e-t)/yt,t=>t.getUTCMinutes());hc.range;const ir=it(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zt-t.getMinutes()*yt)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getHours());ir.range;const mc=it(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getUTCHours());mc.range;const Te=it(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yt)/Ut,t=>t.getDate()-1);Te.range;const or=it(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ut,t=>t.getUTCDate()-1);or.range;const dc=it(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ut,t=>Math.floor(t/Ut));dc.range;function Xt(t){return it(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yt)/nr)}const fn=Xt(0),Qe=Xt(1),gc=Xt(2),pc=Xt(3),ie=Xt(4),yc=Xt(5),_c=Xt(6);fn.range;Qe.range;gc.range;pc.range;ie.range;yc.range;_c.range;function Gt(t){return it(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nr)}const Ki=Gt(0),Je=Gt(1),vc=Gt(2),wc=Gt(3),oe=Gt(4),xc=Gt(5),Mc=Gt(6);Ki.range;Je.range;vc.range;wc.range;oe.range;xc.range;Mc.range;const ar=it(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ar.range;const bc=it(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bc.range;const Ft=it(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ft.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:it(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ft.range;const Vt=it(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:it(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vt.range;function kc(t,e,n,r,i,o){const a=[[Qt,1,zt],[Qt,5,5*zt],[Qt,15,15*zt],[Qt,30,30*zt],[o,1,yt],[o,5,5*yt],[o,15,15*yt],[o,30,30*yt],[i,1,Nt],[i,3,3*Nt],[i,6,6*Nt],[i,12,12*Nt],[r,1,Ut],[r,2,2*Ut],[n,1,nr],[e,1,Lr],[e,3,3*Lr],[t,1,xn]];function s(u,c,h){const f=c<u;f&&([u,c]=[c,u]);const m=h&&typeof h.range=="function"?h:l(u,c,h),d=m?m.range(u,+c+1):[];return f?d.reverse():d}function l(u,c,h){const f=Math.abs(c-u)/h,m=Vn(([,,k])=>k).right(a,f);if(m===a.length)return t.every(An(u/xn,c/xn,h));if(m===0)return Ke.every(Math.max(An(u,c,h),1));const[d,y]=a[f/a[m-1][2]<a[m][2]/f?m-1:m];return d.every(y)}return[s,l]}const[Tc,Cc]=kc(Ft,ar,fn,Te,ir,rr);function Mn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function le(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $c(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ce(i),c=fe(i),h=ce(o),f=fe(o),m=ce(a),d=fe(a),y=ce(s),k=fe(s),v=ce(l),w=fe(l),$={a:A,A:U,b:F,B:Y,c:null,d:Xr,e:Xr,f:Kc,g:uf,G:lf,H:Xc,I:Gc,j:Zc,L:Qi,m:Qc,M:Jc,p:W,q:G,Q:Kr,s:Qr,S:jc,u:tf,U:ef,V:nf,w:rf,W:of,x:null,X:null,y:af,Y:sf,Z:cf,"%":Zr},N={a:et,A:K,b:tt,B:st,c:null,d:Gr,e:Gr,f:df,g:kf,G:Cf,H:ff,I:hf,j:mf,L:ji,m:gf,M:pf,p:ot,q:rt,Q:Kr,s:Qr,S:yf,u:_f,U:vf,V:wf,w:xf,W:Mf,x:null,X:null,y:bf,Y:Tf,Z:$f,"%":Zr},C={a:I,A:E,b:H,B:O,c:g,d:Wr,e:Wr,f:Vc,g:qr,G:Vr,H:Br,I:Br,j:Rc,L:Oc,m:Yc,M:Pc,p:V,q:Hc,Q:Wc,s:Bc,S:Lc,u:Dc,U:Ec,V:Uc,w:Nc,W:Fc,x:b,X:_,y:qr,Y:Vr,Z:Ic,"%":qc};$.x=M(n,$),$.X=M(r,$),$.c=M(e,$),N.x=M(n,N),N.X=M(r,N),N.c=M(e,N);function M(T,p){return function(S){var x=[],lt=-1,Z=0,ft=T.length,ht,It,ur;for(S instanceof Date||(S=new Date(+S));++lt<ft;)T.charCodeAt(lt)===37&&(x.push(T.slice(Z,lt)),(It=Or[ht=T.charAt(++lt)])!=null?ht=T.charAt(++lt):It=ht==="e"?" ":"0",(ur=p[ht])&&(ht=ur(S,It)),x.push(ht),Z=lt+1);return x.push(T.slice(Z,lt)),x.join("")}}function z(T,p){return function(S){var x=le(1900,void 0,1),lt=R(x,T,S+="",0),Z,ft;if(lt!=S.length)return null;if("Q"in x)return new Date(x.Q);if("s"in x)return new Date(x.s*1e3+("L"in x?x.L:0));if(p&&!("Z"in x)&&(x.Z=0),"p"in x&&(x.H=x.H%12+x.p*12),x.m===void 0&&(x.m="q"in x?x.q:0),"V"in x){if(x.V<1||x.V>53)return null;"w"in x||(x.w=1),"Z"in x?(Z=bn(le(x.y,0,1)),ft=Z.getUTCDay(),Z=ft>4||ft===0?Je.ceil(Z):Je(Z),Z=or.offset(Z,(x.V-1)*7),x.y=Z.getUTCFullYear(),x.m=Z.getUTCMonth(),x.d=Z.getUTCDate()+(x.w+6)%7):(Z=Mn(le(x.y,0,1)),ft=Z.getDay(),Z=ft>4||ft===0?Qe.ceil(Z):Qe(Z),Z=Te.offset(Z,(x.V-1)*7),x.y=Z.getFullYear(),x.m=Z.getMonth(),x.d=Z.getDate()+(x.w+6)%7)}else("W"in x||"U"in x)&&("w"in x||(x.w="u"in x?x.u%7:"W"in x?1:0),ft="Z"in x?bn(le(x.y,0,1)).getUTCDay():Mn(le(x.y,0,1)).getDay(),x.m=0,x.d="W"in x?(x.w+6)%7+x.W*7-(ft+5)%7:x.w+x.U*7-(ft+6)%7);return"Z"in x?(x.H+=x.Z/100|0,x.M+=x.Z%100,bn(x)):Mn(x)}}function R(T,p,S,x){for(var lt=0,Z=p.length,ft=S.length,ht,It;lt<Z;){if(x>=ft)return-1;if(ht=p.charCodeAt(lt++),ht===37){if(ht=p.charAt(lt++),It=C[ht in Or?p.charAt(lt++):ht],!It||(x=It(T,S,x))<0)return-1}else if(ht!=S.charCodeAt(x++))return-1}return x}function V(T,p,S){var x=u.exec(p.slice(S));return x?(T.p=c.get(x[0].toLowerCase()),S+x[0].length):-1}function I(T,p,S){var x=m.exec(p.slice(S));return x?(T.w=d.get(x[0].toLowerCase()),S+x[0].length):-1}function E(T,p,S){var x=h.exec(p.slice(S));return x?(T.w=f.get(x[0].toLowerCase()),S+x[0].length):-1}function H(T,p,S){var x=v.exec(p.slice(S));return x?(T.m=w.get(x[0].toLowerCase()),S+x[0].length):-1}function O(T,p,S){var x=y.exec(p.slice(S));return x?(T.m=k.get(x[0].toLowerCase()),S+x[0].length):-1}function g(T,p,S){return R(T,e,p,S)}function b(T,p,S){return R(T,n,p,S)}function _(T,p,S){return R(T,r,p,S)}function A(T){return a[T.getDay()]}function U(T){return o[T.getDay()]}function F(T){return l[T.getMonth()]}function Y(T){return s[T.getMonth()]}function W(T){return i[+(T.getHours()>=12)]}function G(T){return 1+~~(T.getMonth()/3)}function et(T){return a[T.getUTCDay()]}function K(T){return o[T.getUTCDay()]}function tt(T){return l[T.getUTCMonth()]}function st(T){return s[T.getUTCMonth()]}function ot(T){return i[+(T.getUTCHours()>=12)]}function rt(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var p=M(T+="",$);return p.toString=function(){return T},p},parse:function(T){var p=z(T+="",!1);return p.toString=function(){return T},p},utcFormat:function(T){var p=M(T+="",N);return p.toString=function(){return T},p},utcParse:function(T){var p=z(T+="",!0);return p.toString=function(){return T},p}}}var Or={"-":"",_:" ",0:"0"},at=/^\s*\d+/,Ac=/^%/,Sc=/[\\^$*+?|[\]().{}]/g;function q(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function zc(t){return t.replace(Sc,"\\$&")}function ce(t){return new RegExp("^(?:"+t.map(zc).join("|")+")","i")}function fe(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Nc(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dc(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ec(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Uc(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Fc(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Vr(t,e,n){var r=at.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qr(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ic(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hc(t,e,n){var r=at.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Yc(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Wr(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Rc(t,e,n){var r=at.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Br(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Pc(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lc(t,e,n){var r=at.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Oc(t,e,n){var r=at.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Vc(t,e,n){var r=at.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function qc(t,e,n){var r=Ac.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Wc(t,e,n){var r=at.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Bc(t,e,n){var r=at.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Xr(t,e){return q(t.getDate(),e,2)}function Xc(t,e){return q(t.getHours(),e,2)}function Gc(t,e){return q(t.getHours()%12||12,e,2)}function Zc(t,e){return q(1+Te.count(Ft(t),t),e,3)}function Qi(t,e){return q(t.getMilliseconds(),e,3)}function Kc(t,e){return Qi(t,e)+"000"}function Qc(t,e){return q(t.getMonth()+1,e,2)}function Jc(t,e){return q(t.getMinutes(),e,2)}function jc(t,e){return q(t.getSeconds(),e,2)}function tf(t){var e=t.getDay();return e===0?7:e}function ef(t,e){return q(fn.count(Ft(t)-1,t),e,2)}function Ji(t){var e=t.getDay();return e>=4||e===0?ie(t):ie.ceil(t)}function nf(t,e){return t=Ji(t),q(ie.count(Ft(t),t)+(Ft(t).getDay()===4),e,2)}function rf(t){return t.getDay()}function of(t,e){return q(Qe.count(Ft(t)-1,t),e,2)}function af(t,e){return q(t.getFullYear()%100,e,2)}function uf(t,e){return t=Ji(t),q(t.getFullYear()%100,e,2)}function sf(t,e){return q(t.getFullYear()%1e4,e,4)}function lf(t,e){var n=t.getDay();return t=n>=4||n===0?ie(t):ie.ceil(t),q(t.getFullYear()%1e4,e,4)}function cf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+q(e/60|0,"0",2)+q(e%60,"0",2)}function Gr(t,e){return q(t.getUTCDate(),e,2)}function ff(t,e){return q(t.getUTCHours(),e,2)}function hf(t,e){return q(t.getUTCHours()%12||12,e,2)}function mf(t,e){return q(1+or.count(Vt(t),t),e,3)}function ji(t,e){return q(t.getUTCMilliseconds(),e,3)}function df(t,e){return ji(t,e)+"000"}function gf(t,e){return q(t.getUTCMonth()+1,e,2)}function pf(t,e){return q(t.getUTCMinutes(),e,2)}function yf(t,e){return q(t.getUTCSeconds(),e,2)}function _f(t){var e=t.getUTCDay();return e===0?7:e}function vf(t,e){return q(Ki.count(Vt(t)-1,t),e,2)}function to(t){var e=t.getUTCDay();return e>=4||e===0?oe(t):oe.ceil(t)}function wf(t,e){return t=to(t),q(oe.count(Vt(t),t)+(Vt(t).getUTCDay()===4),e,2)}function xf(t){return t.getUTCDay()}function Mf(t,e){return q(Je.count(Vt(t)-1,t),e,2)}function bf(t,e){return q(t.getUTCFullYear()%100,e,2)}function kf(t,e){return t=to(t),q(t.getUTCFullYear()%100,e,2)}function Tf(t,e){return q(t.getUTCFullYear()%1e4,e,4)}function Cf(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oe(t):oe.ceil(t),q(t.getUTCFullYear()%1e4,e,4)}function $f(){return"+0000"}function Zr(){return"%"}function Kr(t){return+t}function Qr(t){return Math.floor(+t/1e3)}var Zt,je;Af({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Af(t){return Zt=$c(t),je=Zt.format,Zt.parse,Zt.utcFormat,Zt.utcParse,Zt}function Sf(t){return new Date(t)}function zf(t){return t instanceof Date?+t:+new Date(+t)}function eo(t,e,n,r,i,o,a,s,l,u){var c=Zi(),h=c.invert,f=c.domain,m=u(".%L"),d=u(":%S"),y=u("%I:%M"),k=u("%I %p"),v=u("%a %d"),w=u("%b %d"),$=u("%B"),N=u("%Y");function C(M){return(l(M)<M?m:s(M)<M?d:a(M)<M?y:o(M)<M?k:r(M)<M?i(M)<M?v:w:n(M)<M?$:N)(M)}return c.invert=function(M){return new Date(h(M))},c.domain=function(M){return arguments.length?f(Array.from(M,zf)):f().map(Sf)},c.ticks=function(M){var z=f();return t(z[0],z[z.length-1],M??10)},c.tickFormat=function(M,z){return z==null?C:u(z)},c.nice=function(M){var z=f();return(!M||typeof M.range!="function")&&(M=e(z[0],z[z.length-1],M??10)),M?f(fc(z,M)):c},c.copy=function(){return Gi(c,eo(t,e,n,r,i,o,a,s,l,u))},c}function Nf(){return cn.apply(eo(Tc,Cc,Ft,ar,fn,Te,ir,rr,Qt,je).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jr(t){return function(){return t}}function Df(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vl(e)}var Ef=Array.prototype.slice;function Uf(t){return t[0]}function Ff(t){return t[1]}class If{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Hf(t){return new If(t,!0)}function Yf(t){return t.source}function Rf(t){return t.target}function Pf(t){let e=Yf,n=Rf,r=Uf,i=Ff,o=null,a=null,s=Df(l);function l(){let u;const c=Ef.call(arguments),h=e.apply(this,c),f=n.apply(this,c);if(o==null&&(a=t(u=s())),a.lineStart(),c[0]=h,a.point(+r.apply(this,c),+i.apply(this,c)),c[0]=f,a.point(+r.apply(this,c),+i.apply(this,c)),a.lineEnd(),u)return a=null,u+""||null}return l.source=function(u){return arguments.length?(e=u,l):e},l.target=function(u){return arguments.length?(n=u,l):n},l.x=function(u){return arguments.length?(r=typeof u=="function"?u:Jr(+u),l):r},l.y=function(u){return arguments.length?(i=typeof u=="function"?u:Jr(+u),l):i},l.context=function(u){return arguments.length?(u==null?o=a=null:a=t(o=u),l):o},l}const ze=t=>()=>t;function Lf(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Dt(t,e,n){this.k=t,this.x=e,this.y=n}Dt.prototype={constructor:Dt,scale:function(t){return t===1?this:new Dt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Dt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xe=new Dt(1,0,0);no.prototype=Dt.prototype;function no(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xe;return t.__zoom}function kn(t){t.stopImmediatePropagation()}function he(t){t.preventDefault(),t.stopImmediatePropagation()}function Of(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Vf(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jr(){return this.__zoom||xe}function qf(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Wf(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bf(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Xf(){var t=Of,e=Vf,n=Bf,r=qf,i=Wf,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=is,u=Wn("start","zoom","end"),c,h,f,m=500,d=150,y=0,k=10;function v(g){g.property("__zoom",jr).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(g,b,_,A){var U=g.selection?g.selection():g;U.property("__zoom",jr),g!==U?C(g,b,_,A):U.interrupt().each(function(){M(this,arguments).event(A).start().zoom(null,typeof b=="function"?b.apply(this,arguments):b).end()})},v.scaleBy=function(g,b,_,A){v.scaleTo(g,function(){var U=this.__zoom.k,F=typeof b=="function"?b.apply(this,arguments):b;return U*F},_,A)},v.scaleTo=function(g,b,_,A){v.transform(g,function(){var U=e.apply(this,arguments),F=this.__zoom,Y=_==null?N(U):typeof _=="function"?_.apply(this,arguments):_,W=F.invert(Y),G=typeof b=="function"?b.apply(this,arguments):b;return n($(w(F,G),Y,W),U,a)},_,A)},v.translateBy=function(g,b,_,A){v.transform(g,function(){return n(this.__zoom.translate(typeof b=="function"?b.apply(this,arguments):b,typeof _=="function"?_.apply(this,arguments):_),e.apply(this,arguments),a)},null,A)},v.translateTo=function(g,b,_,A,U){v.transform(g,function(){var F=e.apply(this,arguments),Y=this.__zoom,W=A==null?N(F):typeof A=="function"?A.apply(this,arguments):A;return n(xe.translate(W[0],W[1]).scale(Y.k).translate(typeof b=="function"?-b.apply(this,arguments):-b,typeof _=="function"?-_.apply(this,arguments):-_),F,a)},A,U)};function w(g,b){return b=Math.max(o[0],Math.min(o[1],b)),b===g.k?g:new Dt(b,g.x,g.y)}function $(g,b,_){var A=b[0]-_[0]*g.k,U=b[1]-_[1]*g.k;return A===g.x&&U===g.y?g:new Dt(g.k,A,U)}function N(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function C(g,b,_,A){g.on("start.zoom",function(){M(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(A).end()}).tween("zoom",function(){var U=this,F=arguments,Y=M(U,F).event(A),W=e.apply(U,F),G=_==null?N(W):typeof _=="function"?_.apply(U,F):_,et=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),K=U.__zoom,tt=typeof b=="function"?b.apply(U,F):b,st=l(K.invert(G).concat(et/K.k),tt.invert(G).concat(et/tt.k));return function(ot){if(ot===1)ot=tt;else{var rt=st(ot),T=et/rt[2];ot=new Dt(T,G[0]-rt[0]*T,G[1]-rt[1]*T)}Y.zoom(null,ot)}})}function M(g,b,_){return!_&&g.__zooming||new z(g,b)}function z(g,b){this.that=g,this.args=b,this.active=0,this.sourceEvent=null,this.extent=e.apply(g,b),this.taps=0}z.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,b){return this.mouse&&g!=="mouse"&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var b=ut(this.that).datum();u.call(g,this.that,new Lf(g,{sourceEvent:this.sourceEvent,target:v,type:g,transform:this.that.__zoom,dispatch:u}),b)}};function R(g,...b){if(!t.apply(this,arguments))return;var _=M(this,b).event(g),A=this.__zoom,U=Math.max(o[0],Math.min(o[1],A.k*Math.pow(2,r.apply(this,arguments)))),F=Ht(g);if(_.wheel)(_.mouse[0][0]!==F[0]||_.mouse[0][1]!==F[1])&&(_.mouse[1]=A.invert(_.mouse[0]=F)),clearTimeout(_.wheel);else{if(A.k===U)return;_.mouse=[F,A.invert(F)],Ue(this),_.start()}he(g),_.wheel=setTimeout(Y,d),_.zoom("mouse",n($(w(A,U),_.mouse[0],_.mouse[1]),_.extent,a));function Y(){_.wheel=null,_.end()}}function V(g,...b){if(f||!t.apply(this,arguments))return;var _=g.currentTarget,A=M(this,b,!0).event(g),U=ut(g.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",et,!0),F=Ht(g,_),Y=g.clientX,W=g.clientY;$u(g.view),kn(g),A.mouse=[F,this.__zoom.invert(F)],Ue(this),A.start();function G(K){if(he(K),!A.moved){var tt=K.clientX-Y,st=K.clientY-W;A.moved=tt*tt+st*st>y}A.event(K).zoom("mouse",n($(A.that.__zoom,A.mouse[0]=Ht(K,_),A.mouse[1]),A.extent,a))}function et(K){U.on("mousemove.zoom mouseup.zoom",null),Au(K.view,A.moved),he(K),A.event(K).end()}}function I(g,...b){if(t.apply(this,arguments)){var _=this.__zoom,A=Ht(g.changedTouches?g.changedTouches[0]:g,this),U=_.invert(A),F=_.k*(g.shiftKey?.5:2),Y=n($(w(_,F),A,U),e.apply(this,b),a);he(g),s>0?ut(this).transition().duration(s).call(C,Y,A,g):ut(this).call(v.transform,Y,A,g)}}function E(g,...b){if(t.apply(this,arguments)){var _=g.touches,A=_.length,U=M(this,b,g.changedTouches.length===A).event(g),F,Y,W,G;for(kn(g),Y=0;Y<A;++Y)W=_[Y],G=Ht(W,this),G=[G,this.__zoom.invert(G),W.identifier],U.touch0?!U.touch1&&U.touch0[2]!==G[2]&&(U.touch1=G,U.taps=0):(U.touch0=G,F=!0,U.taps=1+!!c);c&&(c=clearTimeout(c)),F&&(U.taps<2&&(h=G[0],c=setTimeout(function(){c=null},m)),Ue(this),U.start())}}function H(g,...b){if(this.__zooming){var _=M(this,b).event(g),A=g.changedTouches,U=A.length,F,Y,W,G;for(he(g),F=0;F<U;++F)Y=A[F],W=Ht(Y,this),_.touch0&&_.touch0[2]===Y.identifier?_.touch0[0]=W:_.touch1&&_.touch1[2]===Y.identifier&&(_.touch1[0]=W);if(Y=_.that.__zoom,_.touch1){var et=_.touch0[0],K=_.touch0[1],tt=_.touch1[0],st=_.touch1[1],ot=(ot=tt[0]-et[0])*ot+(ot=tt[1]-et[1])*ot,rt=(rt=st[0]-K[0])*rt+(rt=st[1]-K[1])*rt;Y=w(Y,Math.sqrt(ot/rt)),W=[(et[0]+tt[0])/2,(et[1]+tt[1])/2],G=[(K[0]+st[0])/2,(K[1]+st[1])/2]}else if(_.touch0)W=_.touch0[0],G=_.touch0[1];else return;_.zoom("touch",n($(Y,W,G),_.extent,a))}}function O(g,...b){if(this.__zooming){var _=M(this,b).event(g),A=g.changedTouches,U=A.length,F,Y;for(kn(g),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),F=0;F<U;++F)Y=A[F],_.touch0&&_.touch0[2]===Y.identifier?delete _.touch0:_.touch1&&_.touch1[2]===Y.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),_.taps===2&&(Y=Ht(Y,this),Math.hypot(h[0]-Y[0],h[1]-Y[1])<k)){var W=ut(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return v.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:ze(+g),v):r},v.filter=function(g){return arguments.length?(t=typeof g=="function"?g:ze(!!g),v):t},v.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:ze(!!g),v):i},v.extent=function(g){return arguments.length?(e=typeof g=="function"?g:ze([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),v):e},v.scaleExtent=function(g){return arguments.length?(o[0]=+g[0],o[1]=+g[1],v):[o[0],o[1]]},v.translateExtent=function(g){return arguments.length?(a[0][0]=+g[0][0],a[1][0]=+g[1][0],a[0][1]=+g[0][1],a[1][1]=+g[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(g){return arguments.length?(n=g,v):n},v.duration=function(g){return arguments.length?(s=+g,v):s},v.interpolate=function(g){return arguments.length?(l=g,v):l},v.on=function(){var g=u.on.apply(u,arguments);return g===u?v:g},v.clickDistance=function(g){return arguments.length?(y=(g=+g)*g,v):Math.sqrt(y)},v.tapDistance=function(g){return arguments.length?(k=+g,v):k},v}function ti(t,e,n){const r=t.slice();return r[1]=e[n],r}function ei(t){let e,n=[],r=new Map,i,o,a=fr(t[0]);const s=l=>l[1].pid;for(let l=0;l<a.length;l+=1){let u=ti(t,a,l),c=s(u);r.set(c,n[l]=ni(c,u))}return{c(){e=B("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=X(l,"DIV",{class:!0});var u=nt(e);for(let c=0;c<n.length;c+=1)n[c].l(u);u.forEach(D),this.h()},h(){L(e,"class","items-bar svelte-22wd18")},m(l,u){P(l,e,u);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);o=!0},p(l,u){u&1&&(a=fr(l[0]),n=co(n,u,s,1,l,a,r,e,fo,ni,null,ti))},i(l){o||(l&&io(()=>{o&&(i||(i=lr(e,hr,{duration:200},!0)),i.run(1))}),o=!0)},o(l){l&&(i||(i=lr(e,hr,{duration:200},!1)),i.run(0)),o=!1},d(l){l&&D(e);for(let u=0;u<n.length;u+=1)n[u].d();l&&i&&i.end()}}}function Gf(t){let e,n,r,i,o;return{c(){e=B("a"),n=B("img"),this.h()},l(a){e=X(a,"A",{class:!0,href:!0});var s=nt(e);n=X(s,"IMG",{class:!0,src:!0,alt:!0}),s.forEach(D),this.h()},h(){L(n,"class","noevents svelte-22wd18"),Ie(n.src,r=pt+"/iiif/"+t[1].pid+"/0/full/256,/0/default.jpg")||L(n,"src",r),L(n,"alt",i=t[1].label),L(e,"class","thumb svelte-22wd18"),L(e,"href",o=pt+"/pages/"+t[1].pid)},m(a,s){P(a,e,s),j(e,n)},p(a,s){s&1&&!Ie(n.src,r=pt+"/iiif/"+a[1].pid+"/0/full/256,/0/default.jpg")&&L(n,"src",r),s&1&&i!==(i=a[1].label)&&L(n,"alt",i),s&1&&o!==(o=pt+"/pages/"+a[1].pid)&&L(e,"href",o)},d(a){a&&D(e)}}}function ni(t,e){let n,r,i,o,a=e[1].label+"",s,l,u,c=Cn.pages.iiifViewer&&Gf(e);return{key:t,first:null,c(){n=B("div"),c&&c.c(),r=Q(),i=B("a"),o=B("span"),s=nn(a),u=Q(),this.h()},l(h){n=X(h,"DIV",{class:!0});var f=nt(n);c&&c.l(f),r=J(f),i=X(f,"A",{href:!0});var m=nt(i);o=X(m,"SPAN",{});var d=nt(o);s=rn(d,a),d.forEach(D),m.forEach(D),u=J(f),f.forEach(D),this.h()},h(){L(i,"href",l=pt+"/pages/"+e[1].pid),L(n,"class","work-preview no-select svelte-22wd18"),this.first=n},m(h,f){P(h,n,f),c&&c.m(n,null),j(n,r),j(n,i),j(i,o),j(o,s),j(n,u)},p(h,f){e=h,Cn.pages.iiifViewer&&c.p(e,f),f&1&&a!==(a=e[1].label+"")&&ui(s,a),f&1&&l!==(l=pt+"/pages/"+e[1].pid)&&L(i,"href",l)},d(h){h&&D(n),c&&c.d()}}}function Zf(t){let e,n=t[0].length>0&&ei(t);return{c(){n&&n.c(),e=He()},l(r){n&&n.l(r),e=He()},m(r,i){n&&n.m(r,i),P(r,e,i)},p(r,[i]){r[0].length>0?n?(n.p(r,i),i&1&&gt(n,1)):(n=ei(r),n.c(),gt(n,1),n.m(e.parentNode,e)):n&&(ao(),_t(n,1,1,()=>{n=null}),uo())},i(r){gt(n)},o(r){_t(n)},d(r){r&&D(e),n&&n.d(r)}}}function Kf(t,e,n){let{items:r=[]}=e;return t.$$set=i=>{"items"in i&&n(0,r=i.items)},[r]}class ro extends Wt{constructor(e){super(),Bt(this,e,Kf,Zf,qt,{items:0})}}function ri(t){let e,n,r='<img src="./icons/reset.png" alt="reset"/>',i,o;return{c(){e=B("div"),n=B("button"),n.innerHTML=r,this.h()},l(a){e=X(a,"DIV",{class:!0});var s=nt(e);n=X(s,"BUTTON",{class:!0,"data-svelte-h":!0}),mt(n)!=="svelte-9rp6jw"&&(n.innerHTML=r),s.forEach(D),this.h()},h(){L(n,"class","reset-button"),L(e,"class","network-container-overlay svelte-1rmrcxp")},m(a,s){P(a,e,s),j(e,n),i||(o=ae(n,"click",function(){oo(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(a,s){t=a},d(a){a&&D(e),i=!1,o()}}}function Qf(t){let e,n,r,i,o,a,s,l,u=t[0].length>0&&ri(t);return o=new ro({props:{items:t[0]}}),{c(){e=B("div"),n=on("svg"),r=Q(),u&&u.c(),i=Q(),Ct(o.$$.fragment),this.h()},l(c){e=X(c,"DIV",{class:!0});var h=nt(e);n=an(h,"svg",{width:!0,class:!0}),nt(n).forEach(D),r=J(h),u&&u.l(h),i=J(h),$t(o.$$.fragment,h),h.forEach(D),this.h()},h(){L(n,"width","100%"),L(n,"class","svelte-1rmrcxp"),L(e,"class","timeline-container svelte-1rmrcxp")},m(c,h){P(c,e,h),j(e,n),t[7](n),j(e,r),u&&u.m(e,null),j(e,i),At(o,e,null),a=!0,s||(l=ae(window,"resize",t[6]),s=!0)},p(c,[h]){c[0].length>0?u?u.p(c,h):(u=ri(c),u.c(),u.m(e,i)):u&&(u.d(1),u=null);const f={};h&1&&(f.items=c[0]),o.$set(f)},i(c){a||(gt(o.$$.fragment,c),a=!0)},o(c){_t(o.$$.fragment,c),a=!1},d(c){c&&D(e),t[7](null),u&&u.d(),St(o),s=!1,l()}}}function Jf(t,e,n){let{dateKey:r}=e,{metadata:i=Me}=e,o=[];const a={};for(let d of i)a[d[r]]===void 0&&(a[d[r]]={date:new Date(d[r]),data:[]}),a[d[r]].data.push({pid:d.pid,label:d.label});const s=Object.values(a);let l,u;tn(h);function c(){ut(l).selectAll("g").remove(),h()}function h(){const d=ut(l),y=getComputedStyle(l),k=+y.width.replace("px",""),v=+y.height.replace("px",""),w={h:k*.05,v:v*.2},$=Xf().scaleExtent([1,32]).on("zoom",V),N=d.append("g").attr("transform",`translate(${w.h}, ${w.v})`),C=d.append("g"),M=(E,H)=>E.attr("transform",`translate(${w.h},${v*.7})`).call(qn(H).tickFormat((O,g,b)=>{const _=je("%Y"),A=je("%m"),U=b.map(F=>F.__data__);return g===0?"..."+_(O):U[g-1].getFullYear()===O.getFullYear()?A(O):_(O)})),z=N.append("g").attr("fill","none").attr("stroke-linecap","round").attr("stroke-width",1),R=Nf().domain(pe(s,E=>E.date)).range([0,k-w.h*2]).nice();d.call($).call($.transform,xe),I(R);function V({transform:E}){const H=E.rescaleX(R).interpolate(Di);C.call(M,H),I(H)}n(2,u=()=>{const E=xe.translate(0,0).scale(1);return z.selectAll("circle").attr("stroke-width",1),n(0,o=[]),d.transition().ease(hl).duration(500).call($.transform,E),no(d.node())});function I(E){const H=z.selectAll("circle").data(s).join("circle").attr("cx",O=>E(O.date)).attr("cy",w.v).attr("r",10).attr("stroke","var(--accent2)").attr("fill","var(--accent1)").attr("cursor","pointer");H.on("click",function(O,g){n(0,o=g.data);const b=ut(O.target);H.attr("stroke-width",1),b.attr("stroke-width",4)})}}const f=()=>{c()};function m(d){en[d?"unshift":"push"](()=>{l=d,n(1,l)})}return t.$$set=d=>{"dateKey"in d&&n(4,r=d.dateKey),"metadata"in d&&n(5,i=d.metadata)},[o,l,u,c,r,i,f,m]}class jf extends Wt{constructor(e){super(),Bt(this,e,Jf,Qf,qt,{dateKey:4,metadata:5})}}function th(t){let e,n,r,i;return{c(){e=B("div"),n=on("svg"),this.h()},l(o){e=X(o,"DIV",{class:!0,style:!0});var a=nt(e);n=an(a,"svg",{width:!0,class:!0}),nt(n).forEach(D),a.forEach(D),this.h()},h(){L(n,"width","100%"),L(n,"class","svelte-y2v6ki"),L(e,"class","viz-container svelte-y2v6ki"),On(e,"--height",t[1])},m(o,a){P(o,e,a),j(e,n),t[7](n),r||(i=ae(window,"resize",t[6]),r=!0)},p:xt,i:xt,o:xt,d(o){o&&D(e),t[7](null),r=!1,i()}}}function eh(t,e,n){let{key:r}=e,{metadata:i=Me}=e,{top:o=10}=e;const a={};for(let d of i)a[d[r]]===void 0&&(a[d[r]]={key:d[r],count:0}),a[d[r]].count++;let s=Object.values(a).sort((d,y)=>si(d.count,y.count));o!==void 0&&(s=s.slice(0,o));const l=s.length*70;let u;tn(h);function c(){ut(u).selectAll("g").remove(),h()}function h(){const d=ut(u),y=getComputedStyle(u),k=+y.width.replace("px",""),v=+y.height.replace("px",""),w={h:k*.2,v:v*.1},N=d.append("g").attr("transform",`translate(${w.h}, ${w.v})`).append("g"),C=Xi().domain(s.map(I=>I.key)).range([0,v-w.v*2]).padding(.33),M=Ze().domain([0,Re(s,I=>I.count)]).range([0,k-w.h*2]).nice(),z=qn(M);d.append("g").attr("transform",`translate(${w.h},${v-w.v})`).call(z);const R=gi(C);d.append("g").attr("transform",`translate(${w.h},${w.v})`).call(R),V();function V(){N.selectAll("rect").data(s).join("rect").attr("x",0).attr("y",I=>C(I.key)).attr("width",I=>M(I.count)).attr("height",C.bandwidth()).attr("fill","var(--accent2)")}}const f=()=>{c()};function m(d){en[d?"unshift":"push"](()=>{u=d,n(0,u)})}return t.$$set=d=>{"key"in d&&n(3,r=d.key),"metadata"in d&&n(4,i=d.metadata),"top"in d&&n(5,o=d.top)},[u,l,c,r,i,o,f,m]}class ii extends Wt{constructor(e){super(),Bt(this,e,eh,th,qt,{key:3,metadata:4,top:5})}}function nh(t){let e,n,r,i;return{c(){e=B("div"),n=on("svg"),this.h()},l(o){e=X(o,"DIV",{class:!0,style:!0});var a=nt(e);n=an(a,"svg",{width:!0,class:!0}),nt(n).forEach(D),a.forEach(D),this.h()},h(){L(n,"width","100%"),L(n,"class","svelte-13z1waq"),L(e,"class","viz-container svelte-13z1waq"),On(e,"--height",300)},m(o,a){P(o,e,a),j(e,n),t[5](n),r||(i=ae(window,"resize",t[4]),r=!0)},p:xt,i:xt,o:xt,d(o){o&&D(e),t[5](null),r=!1,i()}}}function rh(t,e,n){let{key:r}=e,{metadata:i=Me}=e;const o=i.map(h=>{const f={...h};return f[r]=+f[r],f});let a;tn(l);function s(){ut(a).selectAll("g").remove(),l()}function l(){const h=ut(a),f=getComputedStyle(a),m=+f.width.replace("px",""),d=+f.height.replace("px",""),y={h:m*.2,v:d*.1},k=pe(o,I=>I[r]),w=Io().domain(k).value(I=>I[r]).thresholds(Ho)(o),N=h.append("g").attr("transform",`translate(${y.h}, ${y.v})`).append("g"),C=Ze().domain(k).range([0,m-y.h*2]),M=Ze().domain([0,Re(w,I=>I.length)]).range([d-y.v*2,0]),z=qn(C);h.append("g").attr("transform",`translate(${y.h},${d-y.v})`).call(z);const R=gi(M);h.append("g").attr("transform",`translate(${y.h},${y.v})`).call(R),V();function V(){N.selectAll("rect").data(w).join("rect").attr("transform",I=>`translate(${C(I.x0)} , ${M(I.length)})`).attr("width",I=>C(I.x1)-C(I.x0)-1).attr("height",I=>d-y.v*2-M(I.length)).attr("fill","var(--accent2)")}}const u=()=>{s()};function c(h){en[h?"unshift":"push"](()=>{a=h,n(0,a)})}return t.$$set=h=>{"key"in h&&n(2,r=h.key),"metadata"in h&&n(3,i=h.metadata)},[a,s,r,i,u,c]}class ih extends Wt{constructor(e){super(),Bt(this,e,rh,nh,qt,{key:2,metadata:3})}}function oi(t){let e,n,r='<img src="./icons/reset.png" alt="reset"/>',i,o;return{c(){e=B("div"),n=B("button"),n.innerHTML=r,this.h()},l(a){e=X(a,"DIV",{class:!0});var s=nt(e);n=X(s,"BUTTON",{class:!0,"data-svelte-h":!0}),mt(n)!=="svelte-ujund3"&&(n.innerHTML=r),s.forEach(D),this.h()},h(){L(n,"class","reset-button"),L(e,"class","network-container-overlay svelte-18nu962")},m(a,s){P(a,e,s),j(e,n),i||(o=ae(n,"click",t[3]),i=!0)},p:xt,d(a){a&&D(e),i=!1,o()}}}function oh(t){let e,n,r,i,o,a,s,l,u=t[0].length>0&&oi(t);return o=new ro({props:{items:t[0]}}),{c(){e=B("div"),n=on("svg"),r=Q(),u&&u.c(),i=Q(),Ct(o.$$.fragment),this.h()},l(c){e=X(c,"DIV",{class:!0,style:!0});var h=nt(e);n=an(h,"svg",{width:!0,class:!0}),nt(n).forEach(D),r=J(h),u&&u.l(h),i=J(h),$t(o.$$.fragment,h),h.forEach(D),this.h()},h(){L(n,"width","100%"),L(n,"class","svelte-18nu962"),L(e,"class","viz-container svelte-18nu962"),On(e,"--height",t[2])},m(c,h){P(c,e,h),j(e,n),t[8](n),j(e,r),u&&u.m(e,null),j(e,i),At(o,e,null),a=!0,s||(l=ae(window,"resize",t[7]),s=!0)},p(c,[h]){c[0].length>0?u?u.p(c,h):(u=oi(c),u.c(),u.m(e,i)):u&&(u.d(1),u=null);const f={};h&1&&(f.items=c[0]),o.$set(f)},i(c){a||(gt(o.$$.fragment,c),a=!0)},o(c){_t(o.$$.fragment,c),a=!1},d(c){c&&D(e),t[8](null),u&&u.d(),St(o),s=!1,l()}}}function ah(t,e,n){let{keys:r}=e,{metadata:i=Me}=e,o=[],a;const s=h(i),l=er(s).sum(w=>w.value),u=l.leaves().length*35;function c(){n(0,o=[]),a.attr("stroke-width",1)}function h(w){const $=[];for(let z of r)$.push(R=>R[z]);const N=Co(w,z=>z.length,...$),C={name:"",children:M(N)};function M(z){const R=[];for(let V of z){const I={name:V[0]};typeof V[1]=="number"?I.value=V[1]:Array.isArray(V[1])&&(I.children=M(V[1])),R.push(I)}return R}return C}let f;tn(y);function m(w){let $=w;const N=[];for(let z=0;z<w.depth;z++){const R={key:r[$.depth-1],value:$.data.name,depth:$.depth};N.push(R),$=$.parent}const C=z=>{let R=!0;for(let V of N)if(z[V.key]!==V.value){R=!1;break}return R};return i.filter(z=>C(z))}function d(){ut(f).selectAll("g").remove(),y()}function y(){const w=ut(f),$=getComputedStyle(f),N=+$.width.replace("px",""),C=+$.height.replace("px",""),M={h:N*.1,v:10},z=7,R=w.append("g").attr("transform",`translate(${M.h}, ${M.v})`);nc().size([C-M.v*2,N-M.h*4])(l),I();function I(){R.append("g").attr("fill","none").attr("stroke","black").attr("stroke-width",1).selectAll("path").data(l.links()).join("path").attr("d",Pf(Hf).x(H=>H.y).y(H=>H.x));const E=R.append("g").selectAll("g").data(l.descendants()).join("g").attr("transform",H=>`translate(${H.y},${H.x})`);a=E.append("circle").attr("stroke","var(--accent2)").attr("fill","var(--accent1)").attr("cursor","pointer").attr("r",z).attr("stroke-width",1),a.on("click",function(H,O){n(0,o=m(O));const g=ut(H.target);a.attr("stroke-width",1),g.attr("stroke-width",4)}),E.append("text").text(H=>H.data.name).attr("font-size",7+N/150).attr("text-anchor",H=>H.children?"end":"start").attr("paint-order","stroke").attr("stroke","var(--fill)").attr("stroke-width",6).attr("x",H=>H.children?-z-4:z+4).attr("dy","0.32em")}}const k=()=>{d()};function v(w){en[w?"unshift":"push"](()=>{f=w,n(1,f)})}return t.$$set=w=>{"keys"in w&&n(5,r=w.keys),"metadata"in w&&n(6,i=w.metadata)},[o,f,u,c,d,r,i,k,v]}class uh extends Wt{constructor(e){super(),Bt(this,e,ah,oh,qt,{keys:5,metadata:6})}}function sh(t){let e,n="Recorrido por la coleccin",r,i,o="Esta coleccin de muestra recopila varias imgenes y interpresentaciones de diferentes memes latinoamericanos. Dada la naturaleza del meme, el uso de este contenido debera de ser visto cmo Fair use, al usarse cmo una parodia de los contenidos usados.",a,s,l="El principal proposito de esta coleccin, no es solo crear un archivo para este contenido, sino tambin contrastar los memes con los valores que se considera importante para la comunidad.",u,c,h="En esta coleccin se tendr en cuenta varios metadatos para ordenar y mapear los valores que la comunidad le ha dado a estos memes cmo: fecha de publicacin del contenido original, fecha de popularizacin del meme, analsis del contenido. Si es posible rastrear: origen, localizacin y sus implicaciones fsicas cmo red social de origen (en proceso de investigacin).",f,m,d="Ejemplo:",y,k,v,w,$="Elementos interactivos",N,C,M="Grfico de barras para los medios usados en los memes",z,R,V,I,E="Grfico de barras para la clase de meme dado por la comunidad",H,O,g,b,_="Histograma de los aos de popularizacin",A,U,F,Y,W="rbol jerrquico relacionando al usuario y su meme",G,et,K,tt,st="Lnea de tiempo con el ao de popularizacin de los memes",ot,rt,T;return k=new yo({props:{pid:"4_EsoTilin",title:"Por TonyZan"}}),R=new ii({props:{key:"medio"}}),O=new ii({props:{key:"clase"}}),U=new ih({props:{key:"ao de popularizacin"}}),et=new uh({props:{keys:["creador","label"]}}),rt=new jf({props:{dateKey:"ao de popularizacin"}}),{c(){e=B("h1"),e.textContent=n,r=Q(),i=B("p"),i.textContent=o,a=Q(),s=B("p"),s.textContent=l,u=Q(),c=B("p"),c.textContent=h,f=Q(),m=B("p"),m.textContent=d,y=Q(),Ct(k.$$.fragment),v=Q(),w=B("h2"),w.textContent=$,N=Q(),C=B("h2"),C.textContent=M,z=Q(),Ct(R.$$.fragment),V=Q(),I=B("h2"),I.textContent=E,H=Q(),Ct(O.$$.fragment),g=Q(),b=B("h2"),b.textContent=_,A=Q(),Ct(U.$$.fragment),F=Q(),Y=B("h2"),Y.textContent=W,G=Q(),Ct(et.$$.fragment),K=Q(),tt=B("h2"),tt.textContent=st,ot=Q(),Ct(rt.$$.fragment)},l(p){e=X(p,"H1",{"data-svelte-h":!0}),mt(e)!=="svelte-wi5f6y"&&(e.textContent=n),r=J(p),i=X(p,"P",{"data-svelte-h":!0}),mt(i)!=="svelte-fzal2c"&&(i.textContent=o),a=J(p),s=X(p,"P",{"data-svelte-h":!0}),mt(s)!=="svelte-1v4mgzr"&&(s.textContent=l),u=J(p),c=X(p,"P",{"data-svelte-h":!0}),mt(c)!=="svelte-q5athq"&&(c.textContent=h),f=J(p),m=X(p,"P",{"data-svelte-h":!0}),mt(m)!=="svelte-vzkens"&&(m.textContent=d),y=J(p),$t(k.$$.fragment,p),v=J(p),w=X(p,"H2",{"data-svelte-h":!0}),mt(w)!=="svelte-u25g9b"&&(w.textContent=$),N=J(p),C=X(p,"H2",{"data-svelte-h":!0}),mt(C)!=="svelte-vy9u45"&&(C.textContent=M),z=J(p),$t(R.$$.fragment,p),V=J(p),I=X(p,"H2",{"data-svelte-h":!0}),mt(I)!=="svelte-1oceaxd"&&(I.textContent=E),H=J(p),$t(O.$$.fragment,p),g=J(p),b=X(p,"H2",{"data-svelte-h":!0}),mt(b)!=="svelte-vc7f3h"&&(b.textContent=_),A=J(p),$t(U.$$.fragment,p),F=J(p),Y=X(p,"H2",{"data-svelte-h":!0}),mt(Y)!=="svelte-u4xr7i"&&(Y.textContent=W),G=J(p),$t(et.$$.fragment,p),K=J(p),tt=X(p,"H2",{"data-svelte-h":!0}),mt(tt)!=="svelte-bd2zc9"&&(tt.textContent=st),ot=J(p),$t(rt.$$.fragment,p)},m(p,S){P(p,e,S),P(p,r,S),P(p,i,S),P(p,a,S),P(p,s,S),P(p,u,S),P(p,c,S),P(p,f,S),P(p,m,S),P(p,y,S),At(k,p,S),P(p,v,S),P(p,w,S),P(p,N,S),P(p,C,S),P(p,z,S),At(R,p,S),P(p,V,S),P(p,I,S),P(p,H,S),At(O,p,S),P(p,g,S),P(p,b,S),P(p,A,S),At(U,p,S),P(p,F,S),P(p,Y,S),P(p,G,S),At(et,p,S),P(p,K,S),P(p,tt,S),P(p,ot,S),At(rt,p,S),T=!0},p:xt,i(p){T||(gt(k.$$.fragment,p),gt(R.$$.fragment,p),gt(O.$$.fragment,p),gt(U.$$.fragment,p),gt(et.$$.fragment,p),gt(rt.$$.fragment,p),T=!0)},o(p){_t(k.$$.fragment,p),_t(R.$$.fragment,p),_t(O.$$.fragment,p),_t(U.$$.fragment,p),_t(et.$$.fragment,p),_t(rt.$$.fragment,p),T=!1},d(p){p&&(D(e),D(r),D(i),D(a),D(s),D(u),D(c),D(f),D(m),D(y),D(v),D(w),D(N),D(C),D(z),D(V),D(I),D(H),D(g),D(b),D(A),D(F),D(Y),D(G),D(K),D(tt),D(ot)),St(k,p),St(R,p),St(O,p),St(U,p),St(et,p),St(rt,p)}}}function lh(t){let e,n;const r=[t[0],ai];let i={$$slots:{default:[sh]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=Tn(i,r[o]);return e=new lo({props:i}),{c(){Ct(e.$$.fragment)},l(o){$t(e.$$.fragment,o)},m(o,a){At(e,o,a),n=!0},p(o,[a]){const s=a&1?so(r,[a&1&&cr(o[0]),a&0&&cr(ai)]):{};a&2&&(s.$$scope={dirty:a,ctx:o}),e.$set(s)},i(o){n||(gt(e.$$.fragment,o),n=!0)},o(o){_t(e.$$.fragment,o),n=!1},d(o){St(e,o)}}}const ai={name:"tour",layout:"page"};function ch(t,e,n){return t.$$set=r=>{n(0,e=Tn(Tn({},e),sr(r)))},e=sr(e),[e]}class vh extends Wt{constructor(e){super(),Bt(this,e,ch,lh,qt,{})}}export{vh as component};
